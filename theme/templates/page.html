{% extends "base.html" %}
{% block html_lang %}{{ page.lang }}{% endblock %}

{% block title %}{{ SITENAME }} - {{ page.title|striptags }}{%endblock%}

{% block header %}
<h1 class="mr-6 md:ml-25% md:mr-0">{{ page.title }}</h1>
<!-- Buttons -->
{% for id, klass, path in (
("show-menu", "",
"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"),
("hide-menu","hidden",
"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z")) %}
<button id="{{ id }}"
        class="{{ klass }} md:hidden w-10 h-10 bg-gray-200 text-gray-600 p-2 fixed top-4 right-4 rounded">
  <svg fill="currentColor" viewBox="0 0 20 20"
       xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="{{ path }}">
    </path>
  </svg>
</button>
{% endfor %}
{% endblock %}

{% block navigation %}
<nav class="hidden w-full text-2xl font-semibold pb-2 bg-amber-100 shadow-lg
            md:block md:w-auto md:w-64 md:mr-2 sticky md:static top-14 md:h-0 overflow-visible">
  <!-- Pages -->
  {% for p in pages %}
  <a href="{{ SITEURL }}/{{ p.url }}" class="">
    <div class="py-2 px-4 {% if p==page %} text-blue-600 {% endif %}
    {% if loop.index % 2 %} bg-amber-100 {% else %} bg-amber-200 {% endif %} ">
      {{ p.title }}
    </div>
  </a>
  {% endfor %}
</nav>
{% endblock %}

{% block content %}
<div class="content mt-2 px-2 md:text-lg">
  {{ page.content }}

  {% if page.modified %}
  <p class="mt-4 text-right text-xs text-gray-500">
    Letzte Ãœberarbeitung: {{ page.locale_modified }}
  </p>
  {% endif %}
</div>
<script>
  const show_btn = document.getElementById("show-menu");
  const hide_btn = document.getElementById("hide-menu");
  const navigation = document.querySelector("nav");

  show_btn.addEventListener("click", function (event) {
    show_btn.classList.add("hidden");
    hide_btn.classList.remove("hidden");
    navigation.classList.remove("hidden");
  })
  hide_btn.addEventListener("click", function (event) {
    hide_btn.classList.add("hidden");
    show_btn.classList.remove("hidden");
    navigation.classList.add("hidden");
  })
</script>
{% endblock %}